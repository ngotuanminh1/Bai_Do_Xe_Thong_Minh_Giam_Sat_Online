"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Invoices = void 0;
const resource_1 = require("../../../../core/resource");
class Invoices extends resource_1.APIResource {
    /**
     * Retrieve invoices of a payment link.
     *
     * @param {InvoiceRetrieveParams} params Params required to retrieve invoices.
     * @param {string} params.paymentLinkId Payment link ID.
     * @param {RequestOptions} options Additional options.
     * @returns {Promise<InvoicesInfo>} A promise resolve to `InvoicesInfo` object contain invoices of current payment link.
     */
    async get(params, options) {
        const { paymentLinkId } = params;
        const data = await this._client.get(`/v2/payment-requests/${paymentLinkId}/invoices`, {
            signatureOpts: { response: 'body' },
            ...options,
        });
        return data;
    }
    /**
     * Download an invoice in PDF format.
     *
     * @param {string} invoiceId Invoice ID.
     * @param {InvoiceDownloadParams} params Params required to download invoice.
     * @param {string} params.paymentLinkId Payment link ID.
     * @param {RequestOptions} options Additional options.
     * @returns {Promise<FileDownloadResponse>} The invoice file in PDF format.
     */
    async download(invoiceId, params, options) {
        const { paymentLinkId } = params;
        const fileResponse = await this._client.downloadFile({
            path: `/v2/payment-requests/${paymentLinkId}/invoices/${invoiceId}/download`,
            method: 'GET',
            ...options,
        });
        return fileResponse;
    }
}
exports.Invoices = Invoices;
